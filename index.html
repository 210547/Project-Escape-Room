<html>
<head>
<title> Escape Room</title>
<script src="scripts/processing.js"></script>
<script type="text/processing" data-processing-target="mycanvas">

PImages kitchen;
PImages dark;
PImages light11;
PImages light22;
PImages light33;
PImages cheese;
PImages subkeypad;
PImages back;
PImages locked;
PImages unlocked;
PImages fridge;
PImages hamImage;
PImages toastImage;
PImages knifeImage;
PImages cheeseImage;
PImages waterDrop;
PImages mask;
PImages mask2;
PImages mask3;
PImages mask4;
PImages mask5;
PImages bluewater;

PImages ovenbuttonmin;
PImages ovenbutton85;
PImages ovenbutton100;
PImages ovenbutton120;
PImages ovenbutton150;
PImages ovenbutton180;
PImages ovenbutton200;
PImages ovenbutton230;
PImages ovenbuttonmax;
PImages timerbuttonon;
PImages timerbuttonoff;
PImages timerbutton10;
PImages timerbutton20;
PImages timerbutton30;
PImages timerbutton40;
PImages timerbutton50;
PImages timerbutton60;
PImages papergone;
PImages papershow;

PImages flashred;
PImages flashred2;
PImages redlight;
PImages flashyellow;
PImages flashgreen;

PImages mouseImage;
PImages boom;
PImages nopaper;
PImages blurry;

int light1;
int light2;
int light3;
int hold;
int darkness;
int location;
int fridgeshow;
int ham;
int toast;
int fridgelock;
int knife;
int faucet;
int waterlvl;
int water1;
int water;
int cheeseThink;
int faucetOnce;

int press;
int pressed;
int pass;
int show;
int delay2;
int delay;

int yaytimer;
int yay;
int temp;
int temptimer;
int sum;
boolean notblurry;
int papergonee;

boolean mousepaper;
int[] spikeY = new int[7];
int spikeNum;
int[] ballX = new int[5];
int[] ballY = new int[5];
int[] ballxs = new int[5];
int[] ballys = new int[5];
int[] distance1 = new int[5];
int[] distance2 = new int[5];
boolean[] balldown = new boolean[5];
boolean[] ballright = new boolean[5];
int ballNum;
boolean ballstart;
int timer;
int shipx;
boolean last;
boolean shipright;
int st;
int[][] bulletxy = new int[100][100];
boolean[] bulletup = new boolean[100];
int bulletnum;
int shipHP;

void setup(){
	size( 1000, 600 );
	frameRate( 30 );
	kitchen = loadImage("images/kitchen.fw.png");
	dark = loadImage("images/dark.fw.png");
	light11 = loadImage("images/light11.fw.png");
	light22 = loadImage("images/light22.fw.png");
	light33 = loadImage("images/light33.fw.png");
	cheeseThink = loadImage("images/ches.png");
	subkeypad = loadImage("images/subkeypad.png");
	locked = loadImage("images/locked.fw.png");
	unlocked = loadImage("images/unlocked.fw.png");
	fridge = loadImage("images/fridge.png");
	hamImage = loadImage("images/hamSlices.png");
	toastImage = loadImage("images/toast.png");
	knifeImage = loadImage("images/knifeImage.fw.png");
	cheeseImage = loadImage("images/cheese.png");
	waterDrop = loadImage("images/waterDrop.fw.png");
	mask = loadImage("images/mask.png");
	mask2 = loadImage("images/mask2.png");
	mask3 = loadImage("images/mask3.png");
	mask4 = loadImage("images/mask4.png");
	mask5 = loadImage("images/mask5.png");
	bluewater = loadImage("images/bluewater.png");
	
	flashred = loadImage("images/flashred.png");
	flashred2 = loadImage("images/flashred2.png");
	redlight = loadImage("images/redlight.png");
	flashyellow = loadImage("images/flashyellow.png");
	flashgreen = loadImage("images/flashgreen.png");
	
	oven = loadImage("images/oven.png");
	thinkingcheese = loadImage("images/thinkingcheese.png");
	thinkingham = loadImage("images/thinkingham.png");
	thinkingbread = loadImage("images/thinkingbread.png");
	yayimage = loadImage("images/yay.png");
	backbutton = loadImage("images/back.png");
	
	ovenbuttonmin = loadImage("images/oven/ovenbuttonmin.fw.png");
	ovenbutton85 = loadImage("images/oven/ovenbutton85.fw.png");
	ovenbutton100 = loadImage("images/oven/ovenbutton100.fw.png");
	ovenbutton120 = loadImage("images/oven/ovenbutton120.fw.png");
	ovenbutton150 = loadImage("images/oven/ovenbutton150.fw.png");
	ovenbutton180 = loadImage("images/oven/ovenbutton180.fw.png");
	ovenbutton200 = loadImage("images/oven/ovenbutton200.png");
	ovenbutton230 = loadImage("images/oven/ovenbutton230.fw.png");
	ovenbuttonmax = loadImage("images/oven/ovenbuttonmax.fw.png");
	timerbuttonon = loadImage("images/oven/timerbuttonon.png");
	timerbuttonoff = loadImage("images/oven/timerbuttonoff.fw.png");
	timerbutton10 = loadImage("images/oven/timerbutton10.fw.png");
	timerbutton20 = loadImage("images/oven/timerbutton20.fw.png");
	timerbutton30 = loadImage("images/oven/timerbutton30.fw.png");
	timerbutton40 = loadImage("images/oven/timerbutton40.fw.png");
	timerbutton50 = loadImage("images/oven/timerbutton50.fw.png");
	timerbutton60 = loadImage("images/oven/timerbutton60.fw.png");

	papergone = loadImage("images/papergone.png");
	papershow = loadImage("images/papershow.png");
	yummy = loadImage("images/yummy.png");
	fire1 = loadImage("images/fire1.png");
	fire2 = loadImage("images/fire2.png");
	fire3 = loadImage("images/fire3.png");


	mouseImage = loadImage("images/Mouse.fw.png");
	boom = loadImage("images/boom.png");
	nopaper = loadImage("images/nopaper.png");
	blurry = loadImage("images/blurry.png");
	
	darkness = 0;
	hold = 0;
	light1 = 0;
	light2 = 0;
	light3 = 0;
	location = 0;
	fridgeshow = 0;
	ham = 0;
	toast = 0;
	fridgelock = 0;
	knife = 0;
	faucet = 0;
	waterlvl = 0;
	water1 = 0;
	water = -1;
	cheese = 0;
	faucetOnce = 0;
	notblurry = false;
	
	press = 0;
	pressed = 0;
	pass = 5;
	show = 0;
	delay = 0;
	delay2 =0;
	
	yaytimer = 0;
	yay = 0;
	temp = 0;
	temptimer = 0;
	
	papergonee = 0;
	mousepaper = false;
	spikeNum = 0;
	ballstart = false;
	shipx = 800;
	last = false;
	shipHP = 6;
	
	showtext = 0;
	texttimer = 0;
	gatherfood = 0;
	yummyvalue = 0;
	waittimer = 0;
	
	wall = new Array(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
	wall2 = new Array(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
	wall3 = new Array(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
	wall4 = new Array(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
	
	
	x = 0;
	y = 300;
	a = 0;
	b = 1;
	z = 0;
	wallvalue = 0;
	colorvalue = 0;
	wait = 0;
	game = 1;
	red = 0;
	green  = 0;
	blue = 0;
	counter = 0;
	barlength = 0;
	timer = 0;
	restart = 0;
}

void draw(){
	background(0,255,0);
	//kitchen
	if(location == 0){
		if(mousepaper)
		image(kitchen,0,0);

		if(!mousepaper)
		image(nopaper,0,0);
		
		//faucet
		if(mousePressed == true && mouseX > 216 && mouseX < 233 && mouseY > 353 && mouseY < 384){
			faucet = 1;
			faucetOnce = 1;
		}
		else{
			faucet = 0;
		}
		if(faucet == 1){
			waterlvl++;
			if(water1 < 24){
				water1++;
			}
			if(water1 == 24){
				water1 = 0;
			}
			if(water1 == 10){
				water = 0;
			}
			if(water >= 0){
				water++;
			}
			if(water == 24){
				water = -1;
			}
		}
		
		if(waterlvl >=70 && waterlvl <=150){
			image(bluewater,230,403-((waterlvl-70)/3));
		}
		
		if(waterlvl >=150){
			image(bluewater,230,403-((150-70)/3));
		}
		
		image(mask3,0,0);
		image(mask4,0,0);
		image(mask5,0,0);
		
		if(faucetOnce == 1){
			image(waterDrop,291+1*water1,345+2*water1,7,10);
			image(waterDrop,291+3/water1,345+2*water1,7,10);
			image(waterDrop,291+2*water1,345+2*water1,7,10);
			image(waterDrop,291+1.5*water1,345+1.5*water1,7,10);
		
			image(waterDrop,291+1*water,345+2*water,7,10);
			image(waterDrop,291+3/water,345+2*water,7,10);
			image(waterDrop,291+2*water,345+2*water,7,10);
			image(waterDrop,291+1.5*water,345+1.5*water,7,10);
		}
		
		if(waterlvl >= 100 && waterlvl <=150){
			image(cheeseImage,295,351+50+40+50-((waterlvl-100/10)),60,50);
		}
		if(waterlvl >150){
			if(cheese == 0){
				image(cheeseImage,295,351+50+40+50-((150-100/10)),60,50);
			}
			if(hold == 0 && cheese == 0 && mousePressed == true && mouseButton == LEFT && mouseX>295 && mouseX < 295+60&& mouseY > 351+50+40+50-((150-100/10))&& mouseY < 351+50+40+50-((150-100/10)) + 50){
				cheese = 1;
			}
		}
		if(cheese == 1){
			image(cheeseImage,940-65-60-3,3,60,50);
		}
		
		image(mask,0,0);
		image(mask2,0,0);
		
		
		//toaster
		if(hold == 0 && toast == 0 && mousePressed == true && mouseButton == LEFT && mouseX > 742 && mouseX < 772 && mouseY > 338 && mouseY <375){
			toast = 1;
			hold = 1;
		}
		if(toast == 1 && fridgeshow == 0){
			toast = 2;
		}
		if(toast == 2){
			image(toastImage,678,329,60,50);
		}
		if(hold == 0 && toast == 2 && mousePressed == true && mouseButton == LEFT && mouseX > 678 && mouseY > 329 && mouseX < 678+60 && mouseY < 329 + 50){
			toast = 3;
			hold = 1;
		}
		if(toast == 3){
			image(toastImage,940-65,3,60,50);
		}
		// knife
		if(hold == 0 && knife == 0 && mousePressed == true && mouseButton == LEFT && mouseX > 410 && mouseX < 444 && mouseY > 291 && mouseY < 331){
			knife = 1;
			hold = 1;
		}
		if(hold == 0 && knife == 1 && mousePressed == true & mouseButton == LEFT && mouseX > 384 && mouseX < 384+10 && mouseY > 296 && mouseY < 296+50){
			knife = 2;
			hold = 1;
		}
		if(knife == 1){
			image(knifeImage,384,296,10,50);
		}
		if(knife == 2){
			image(knifeImage,940-65-60-3-10-10,3,10,50);
		}
		//fridge
		image(locked,842,336,50,50);
		
		if(light1 == 1 && light2 == 1 && light3 == 1){
			image(unlocked,842,336,50,50);
			fridgelock = 1;
			if(hold == 0 &&fridgeshow == 0 && mousePressed == true && mouseButton == LEFT && mouseX > 786 && mouseX < 973 && mouseY > 171 && mouseY < 599){
				fridgeshow = 1;
				hold = 1;
			}
		}
		else{
			fridgeshow = 0;
			fridgelock = 0;
		}
		if(fridgeshow == 1){
			image(fridge,735,111);
			if(hold == 0 && ham == 0 && mousePressed == true && mouseButton == LEFT && mouseX>859 && mouseX< 907&& mouseY> 337&& mouseY<382){
				ham = 1;
				hold = 1;
			}
			if(hold == 0 && ham == 1 && mousePressed == true && mouseButton == LEFT && mouseX > 786 && mouseX < 973 && mouseY > 171 && mouseY < 599){
			fridgeshow = 0;
			hold = 1;
			}
			
			if(ham <= 0){
				image(hamImage,859,334,50,50);	
			}
		}
		if(ham == 1){
			image(hamImage,940,3,50,50);
		}
		
		// Keypad
		if (hold == 0 && mousePressed == true && mouseButton == LEFT && mouseX > 0 && mouseX < 80 && mouseY > 320 && mouseY < 365){
			location = 1;
			hold = 1;
		}
		// Thinking
		if(mousepaper && hold == 0 && yummyvalue == 1 && mousePressed == true && mouseButton == LEFT && mouseX > 420 && mouseX < 495 && mouseY > 560 && mouseY < 590){
			papergonee = 1;
			yummyvalue = 0;
		}
		
		if(papergonee == 1){
			image(papergone,0,0);
			if(!notblurry)
			image(blurry,548,400,78*3,180);
			if(mousePressed == true && !notblurry && mouseX >= 548 && mouseX <= 548+(78*3) && mouseY >= 400 && mouseY <= 400+180){
				location = 999;
			}
			if(notblurry){
				image(papershow,548,400,78*3,180);
			}
		}
		
		if(location == 0 && mousePressed == true && !mousepaper && hold == 0 && mouseX > 420 && mouseX < 495 && mouseY > 560 && mouseY < 590){
			for(int i = 0; i < 7; i++){
				spikeY[i] = 480+((i+3)*(20));
			}
			
			for(int i = 0; i < 5; i++){
				ballX[i] = 50;
				ballY[i] = 50;
				balldown[i] = true;
				ballright[i] = true;
				ballxs[i] = Math.floor(Math.random()*5)+5;
				ballys[i] = Math.floor(Math.random()*5)+5;
				distance1[i] = 999;
				distance2[i] = 999;
				
			}
			last = false;
			shipx = 800;
			bulletnum = 0;
			for(int i = 0; i < 100; i++){
				bulletup[i] = true;
			}
			for(int i = 0; i < 100; i++){
				for(int e = 0; e < 100; e++){
					bulletxy[i][e] = null;
				}
			}
			ballstart = false;
			timer = 30;
			location = 3;
			hold = 1;
			shipHP = 6;
		}
		
		
		if (papergonee != 1 && hold == 0 && mousepaper && mouseX > 420 && mouseX < 495 && mouseY > 560 && mouseY < 590){
			image(cheeseThink,460,450);
			delay = delay + 1;
				if(delay > 150){
				delay = 0
				}
		}	 
		if(papergonee != 1 && hold == 0 && mousePressed == true && mouseButton == LEFT){
			if(mouseX > 420 && mouseX < 495 && mouseY > 560 && mouseY < 590){
				if(delay < 50){
				image(thinkingcheese,300,440);
				}
				
				if(delay < 100 && delay > 50){
				image(thinkingham,300,440);
				}
				
				if(delay < 150 && delay > 100){
				image(thinkingbread,300,440);
				}
			}
		}
		//text(yaytimer,300,440);
		yaytimer = yaytimer + 1;
		
		if(yaytimer > 100){
			yaytimer = 0;
		}
		if (yay == 1){
			image(yay,300,440);
		}
		//oven
		if (hold == 0 && mousePressed == true && mouseButton == LEFT && mouseX > 315 && mouseX < 372 && mouseY > 300 && mouseY < 366){
			location = 2;
			hold = 1;
		}
		
		//light toggle
		if(mouseX> 168 && mouseX<214 && mouseY > 172 && mouseY < 218){
			cursor(HAND);
			if(light1==0 && mousePressed == true && mouseButton == LEFT && hold==0){
				darkness = darkness + 1;
				light1 = light1 + 1;
				hold = 1;
			}
		}
		else{cursor(ARROW);}
		
		if(light1==1 && mousePressed == true && mouseButton == LEFT && mouseX> 168 && mouseX<214 && mouseY > 172 && mouseY < 218&& hold==0){
			darkness = darkness - 1;
			light1 = light1 - 1;
			hold = 1;
		}
		if(yummyvalue == 1){
				ham = -1;
				cheese = -1;
				toast = -1;
				knife = -1;
				
				
				image(yummy,900,10,100,75);
		}
		if(light1==1){
			image(light11,0,0);
		}
	
		if(light2 == 0 && mousePressed == true && mouseButton == LEFT && mouseX > 250 && mouseX < 305 && mouseY > 154 && mouseY < 211 && hold ==0){
			darkness = darkness + 1;
			light2 = light2 + 1;
			hold = 1;
		}
	
		if(light2 == 1 && mousePressed == true && mouseButton == LEFT && mouseX > 250 && mouseX < 305 && mouseY > 154 && mouseY < 211 && hold ==0){
			darkness = darkness - 1;
			light2 = light2 - 1;
			hold = 1;
		}
	
		if(light2==1){
			image(light22,0,31);
		}
	
		if(light3 == 0 && mousePressed == true && mouseButton == LEFT && mouseX > 380 && mouseX < 443 && mouseY > 128 && mouseY < 193 && hold ==0){
			darkness = darkness + 1;
			light3 = light3 + 1;
			hold = 1;
		}
		if(light3 == 1 && mousePressed == true && mouseButton == LEFT && mouseX > 380 && mouseX < 443 && mouseY > 128 && mouseY < 193 && hold ==0){
			darkness = darkness - 1;
			light3 = light3 - 1
			hold = 1;
		}
	
		if(light3==1){
			image(light33,0,30);
		}
	
		if(darkness>=1){
			image(dark,0,0);
		}
		if(darkness>=2){
			image(dark,0,0);
		}
		if(darkness>=3){
			image(dark,0,0);
		}
		
		//mouse cursor
		if(mouseX> 168 && mouseX<214 && mouseY > 172 && mouseY < 218 || mouseX > 250 && mouseX < 305 && mouseY > 154 && mouseY < 211 || mouseX > 380 && mouseX < 443 && mouseY > 128 && mouseY < 193 || mouseX > 0 && mouseX < 80 && mouseY > 320 && mouseY < 365){
			cursor(HAND);
		}
		else if(mouseX > 786 && mouseX < 973 && mouseY > 171 && mouseY < 599 && fridgeshow != 1 && fridgelock == 1){
			cursor(HAND);
		}
		else if(fridgeshow == 1 && ham !=1 && mouseX>859 && mouseX< 907&& mouseY> 337&& mouseY<382){
			cursor(HAND);
		}
		else if(toast == 0 && fridgeshow == 0 && mouseX > 742 && mouseX < 772 && mouseY > 338 && mouseY <375){
			cursor(HAND);
		}
		else if(toast == 2 && mouseX > 678 && mouseY > 329 && mouseX < 678+60 && mouseY < 329 + 50){
			cursor(HAND);
		}
		else if(knife == 0 && mouseX > 410 && mouseX < 444 && mouseY > 291 && mouseY < 331){
			cursor(HAND);
		}
		else if(knife == 1 && mouseX > 384 && mouseX < 384+10 && mouseY > 296 && mouseY < 296+50){
			cursor(HAND);
		}
		else if(mouseX > 420 && mouseX < 495 && mouseY > 560 && mouseY < 590){
			cursor(HAND);
		}
		else if(mouseX > 315 && mouseX < 372 && mouseY > 300 && mouseY < 366){
			cursor(HAND);
		}
		else if(mouseX > 216 && mouseX < 233 && mouseY > 353 && mouseY < 384){
			cursor(HAND);
		}
		else if(cheese == 0 && waterlvl>=150 && mouseX>295 && mouseX < 295+60&& mouseY > 351+50+40+50-((150-100/10))&& mouseY < 351+50+40+50-((150-100/10)) + 50){
			cursor(HAND);
		}
		//final else
		else{
			cursor(ARROW);
			hold = 1;
		}
	}
	
	//keypad location
	if (location == 1){
		if(mouseX > 15 && mouseX < 175 && mouseY > 500 && mouseY < 600||
			//147
			mouseX > 35 && mouseX < 105 && mouseY > 105 && mouseY < 157||
			mouseX > 35 && mouseX < 105 && mouseY > 180 && mouseY < 230||
			mouseX > 35 && mouseX < 105 && mouseY > 255 && mouseY < 305||
			//2580
			mouseX > 125 && mouseX < 196 && mouseY > 105 && mouseY < 157||
			mouseX > 125 && mouseX < 196 && mouseY > 180 && mouseY < 230||
			mouseX > 125 && mouseX < 196 && mouseY > 255 && mouseY < 305||
			mouseX > 125 && mouseX < 196 && mouseY > 330 && mouseY < 380||
			//369
			mouseX > 216 && mouseX < 285 && mouseY > 105 && mouseY < 157||
			mouseX > 216 && mouseX < 285 && mouseY > 180 && mouseY < 230||
			mouseX > 216 && mouseX < 285 && mouseY > 255 && mouseY < 305){
			cursor(HAND);
		}
		else{
			cursor(ARROW);
			hold = 1;
		}
		image(subkeypad,0,0);
		image(flashred,97,70);
	
		if (hold == 0 && mousePressed==true && mouseButton == LEFT && mouseX > 15 && mouseX < 175 && mouseY > 500 && mouseY < 600){
			location = 0;
		}
		//keypad
		if (
		//147
		mouseX > 35 && mouseX < 105 && mouseY > 105 && mouseY < 157||
		mouseX > 35 && mouseX < 105 && mouseY > 180 && mouseY < 230||
		mouseX > 35 && mouseX < 105 && mouseY > 255 && mouseY < 305||
		//2580
		mouseX > 125 && mouseX < 196 && mouseY > 105 && mouseY < 157||
		mouseX > 125 && mouseX < 196 && mouseY > 180 && mouseY < 230||
		mouseX > 125 && mouseX < 196 && mouseY > 255 && mouseY < 305||
		mouseX > 125 && mouseX < 196 && mouseY > 330 && mouseY < 380||
		//369
		mouseX > 216 && mouseX < 285 && mouseY > 105 && mouseY < 157||
		mouseX > 216 && mouseX < 285 && mouseY > 180 && mouseY < 230||
		mouseX > 216 && mouseX < 285 && mouseY > 255 && mouseY < 305
		){
			if (hold == 0 && mousePressed == true && mouseButton == LEFT){
				hold = 1;
				if (pressed == 0){
					press = 1;
					image(flashyellow,55,65);
				}
				if (pressed == 1){
					press = 2;
					image(flashyellow,55,65);
				}
				if (pressed == 2){
					press = 3;
					image(flashyellow,55,65);
				}
				if (pressed == 3){
					press = 4;
					image(flashyellow,55,65);
				}
			}
		}
	
	if(mousePressed == true && mouseButton == LEFT){

		if (mouseX > 216 && mouseX < 285 && mouseY > 255 && mouseY < 305 && pass == 5){
		pass = 9000
		}
		if (mouseX > 125 && mouseX < 196 && mouseY > 255 && mouseY < 305 && pass == 9000){
		pass = 9800
		}
		if (mouseX > 216 && mouseX < 285 && mouseY > 180 && mouseY < 230 && pass == 9800){
		pass = 986
		}
		if (mouseX > 125 && mouseX < 196 && mouseY > 330 && mouseY < 380 && pass == 986){
		pass = 9860
		}
	}



if (mousePressed == false && location == 1){
		
		if (press == 1){
		pressed = 1;
		}
	
		if (press == 2){
		pressed = 2;
		}
	
		if (press == 3){
		pressed = 3;
		}
	
		if (press == 4){
		pressed = 4;
		}
		
		if (pass == 9860){
			press = 0
			delay2 = delay2 + 1
			
			if (delay2 > 1 && delay2 < 5 ||
				delay2 > 10 && delay < 15){
			image(flashgreen,128,66);
			}
			
			if(delay2 > 20){
			link("Free.html");
			}
		}
		
		
		if(press == 4){
		delay = 0;
		show = 1;
		}
		
		if(show == 1){
		press = 0;
		delay = delay + 1;
		image(flashred2,97,70);
		
			if (delay > 20/3 && delay < 20/3*2){
			image(flashred,97,70);
			image(redlight,0,0);
			}
			if (delay > 20/3*2 && delay < 20){
			image(flashred2,97,70);
			image(redlight,0,0);
			}
			if (delay > 20){
			image(flashred,97,70);
			}

		
			if (delay > 21){
			show =0;
			pressed = 0;
			pass = 5;
			}
		}
	}
	
}

	//oven location
if (location == 2){
		image(oven,0,0);
		image(ovenbuttonmin,780,127);
		image(ovenbuttonmin,777,223);
		image(ovenbuttonmin,770,359);
		text(mouseX,100,100);
		text(mouseY,100,200);
		text(texttimer,100,150);
		
		if(mouseX > 15 && mouseX < 175 && mouseY < 600 && mouseY > 500){
			cursor(HAND);
		}
		else{
			cursor(ARROW);
		}	
		if (mousePressed == true && mouseButton == LEFT && mouseX > 15 && mouseX < 175 && mouseY > 500 && mouseY < 600){
			location = 0;
		}
			if (mousePressed == true && mouseButton == LEFT && mouseX > 120 && mouseX < 730 && mouseY > 75 && mouseY < 470 && showtext == 0){
			showtext = 1;
		}
			
		
			if(showtext == 1 && texttimer < 50 && location == 2){
				texttimer = texttimer + 1;
				fill(255,255,255);
				textSize(25);
				if(ham == 1 && cheese == 1 && toast == 3 && knife == 2 && temptimer == 10 && temp == 230){
					if(texttimer > 5 && texttimer < 10||
						texttimer > 20 && texttimer < 25||
						texttimer > 35 && texttimer < 40){
						image(fire1,0,-250);
				}		
				if(texttimer > 10 && texttimer < 15 ||
					texttimer > 25 && texttimer < 30 ){
					image(fire2,0,-250);
				}
				
				if(texttimer > 15 && texttimer < 20||
					texttimer > 30 && texttimer < 35 ){
					image(fire3,0,-250);
				}
			
				waittimer = waittimer + 1;
				if(waittimer > 20){
					image(yummy,200,150);
				}
				if(texttimer == 30){
					yummyvalue = 1;
				}
			}
				
				else if(ham == 1 && cheese == 1 && toast == 3 && knife == 2 && yummyvalue != 1){
					text("You have not properly set up the temperature",200,300);
					fill(0,0,0,100);
					stroke(0,0,0);
					rect(200,200,500,150);
				}
				
				if(ham != 1 && cheese != 1 && toast != 3 && knife != 2 && yummyvalue != 1){
					text("You have not gathered all the ingredients",210,300);
					fill(0,0,0,100);
					stroke(0,0,0);
					rect(200,200,500,150);
				}
				
				
				
				
			}
			if(texttimer == 50 && showtext == 1){
			showtext = 0;
			texttimer = 0;
			
			}
		
			if(yummyvalue == 1){
				ham = -1;
				cheese = -1;
				toast = -1;
				knife = -1;
				
				
					image(yummy,900,10,100,75);
			}
			
			if(ham == 1){
				image(hamImage,940,3,50,50);
			}
			if(cheese == 1){
				image(cheeseImage,940-65-60-3,3,60,50);
			}
			if(knife == 2){
				image(knifeImage,940-65-60-3-10-10,3,10,50);
			}
			if(toast == 3){
				image(toastImage,940-65,3,60,50);
			}
			
			
			
			
			
			if(mouseX > 15 && mouseX < 175 && mouseY > 500 && mouseY < 600||
			
			mouseX > 795 && mouseX < 832 && mouseY > 110 && mouseY < 124||
			mouseX > 835 && mouseX < 868 && mouseY > 152 && mouseY < 169||
			mouseX > 830 && mouseX < 860 && mouseY > 175 && mouseY < 196||
			mouseX > 810 && mouseX < 830 && mouseY > 186 && mouseY < 207||
			mouseX > 790 && mouseX < 807 && mouseY > 190 && mouseY < 200||
			mouseX > 770 && mouseX < 787 && mouseY > 180 && mouseY < 195||
			mouseX > 756 && mouseX < 782 && mouseY > 163 && mouseY < 175||
			mouseX > 756 && mouseX < 782 && mouseY > 146 && mouseY < 157||
			mouseX > 753 && mouseX < 784 && mouseY > 355 && mouseY < 370||
			mouseX > 790 && mouseX < 819 && mouseY > 340 && mouseY < 355||
			mouseX > 820 && mouseX < 843 && mouseY > 350 && mouseY < 370||
			mouseX > 831 && mouseX < 856 && mouseY > 380 && mouseY < 400||
			mouseX > 820 && mouseX < 847 && mouseY > 409 && mouseY < 428||
			mouseX > 790 && mouseX < 819 && mouseY > 416 && mouseY < 440||
			mouseX > 760 && mouseX < 781 && mouseY > 407 && mouseY < 428||
			mouseX > 750 && mouseX < 771 && mouseY > 382 && mouseY < 404||
			mouseX > 120 && mouseX < 730 && mouseY > 75 && mouseY < 470
			){
			cursor(HAND);
		}
		else{
			cursor(ARROW);
			hold = 1;
		}
		
		
		if (mousePressed == true && mouseButton == LEFT){
			if(hold == 0 && mouseX > 795 && mouseX < 832 && mouseY > 110 && mouseY < 124){
				temp = 10;
			}
				
			if(hold == 0 && mouseX > 835 && mouseX < 868 && mouseY > 152 && mouseY < 169){
				temp = 85;
			}
				
			if(hold == 0 && mouseX > 830 && mouseX < 860 && mouseY > 175 && mouseY < 196){
				temp = 120;
			}
				
			if(hold == 0 && mouseX > 810 && mouseX < 830 && mouseY > 186 && mouseY < 207){
				temp = 150;
			}
				
			if(hold == 0 && mouseX > 790 && mouseX < 807 && mouseY > 190 && mouseY < 200){
				temp = 180;
			}
				
			if(hold == 0 && mouseX > 770 && mouseX < 787 && mouseY > 180 && mouseY < 195){
				temp = 200;
			}
				
			if(hold == 0 && mouseX > 756 && mouseX < 782 && mouseY > 163 && mouseY < 175){
				temp = 230;
			}
				
			if(hold == 0 && mouseX > 756 && mouseX < 782 && mouseY > 146 && mouseY < 157){
				temp = 300;
			}		
			//temptimer

			if(hold == 0 && mouseX > 753 && mouseX < 784 && mouseY > 355 && mouseY < 370){
				temptimer = 1;
			}
				
			if(hold == 0 && mouseX > 790 && mouseX < 819 && mouseY > 340 && mouseY < 355){
				temptimer = 2;
			}
				
			if(hold == 0 && mouseX > 820 && mouseX < 843 && mouseY > 350 && mouseY < 370){
				temptimer = 10;
			}
				
			if(hold == 0 && mouseX > 831 && mouseX < 856 && mouseY > 380 && mouseY < 400){
				temptimer = 20;
			}
				
			if(hold == 0 && mouseX > 820 && mouseX < 847 && mouseY > 409 && mouseY < 428){
				temptimer = 30;
			}
				
			if(hold == 0 && mouseX > 790 && mouseX < 819 && mouseY > 416 && mouseY < 440){
				temptimer = 40;
			}
				
			if(hold == 0 && mouseX > 760 && mouseX < 781 && mouseY > 407 && mouseY < 428){
				temptimer = 50;
			}
				
			if(hold == 0 && mouseX > 750 && mouseX < 771 && mouseY > 382 && mouseY < 404){
				temptimer = 60;
			}		

			hold = 1;
			
		}
				if(temp == 10){
					image(ovenbuttonmin,780,127);
				}
				if(temp == 85){
					image(ovenbutton85,780,127);
				}
				if(temp == 120){
					image(ovenbutton120,780,127);
				}
				if(temp == 150){
					image(ovenbutton150,780,127);
				}
				if(temp == 180){
					image(ovenbutton180,780,127);
				}
				if(temp == 200){
					image(ovenbutton200,780,127);
				}
				if(temp == 230){
					image(ovenbutton230,780,127);
				}
				if(temp == 300){
					image(ovenbuttonmax,780,127);
				}



				if(temptimer == 1){
					image(timerbuttonon,770,359);
				}
				if(temptimer == 10){
					image(timerbutton10,770,359);
				}
				if(temptimer == 20){
					image(timerbutton20,770,359);
				}
				if(temptimer == 30){
					image(timerbutton30,770,359);
				}
				if(temptimer == 40){
					image(timerbutton40,770,359);
				}
				if(temptimer == 50){
					image(timerbutton50,770,359);
				}
				if(temptimer == 60){
					image(timerbutton60,770,359);
				}
				if(temptimer == 2){
					image(ovenbuttonmin,770,359);
				}
				
		if(temp == 230 && temptimer == 10){
			fill(255,0,0,30);
			rect(0,0,1000,700);		
		}	
		}


	//dark room
	if (location == 3){
		fill(0);
		rect(0,0,1000,600);
		
		image(mouseImage,mouseX-45,mouseY-18,90,36);
		
		fill(255,100,100);
		
		rect(530,100,50,500);
		//if(mouseX + 45 > ONE && mouseX - 45 < ONE+THREE && mouseY + 18 > TWO && mouseY - 18 < TWO+FOUR){
		//	location = 0;
		//}
		
		if(mouseX - 45 <= 0 || mouseX + 45 >= 1000 || mouseY-18 <= 0 || (mouseY +18 >=600 && (mouseX <=420 || mouseX >= 500)))
			location = 0;
		if(mouseX + 45 > 530 && mouseX - 45 < 530+50 && mouseY + 18 > 100 && mouseY - 18 < 100+500)
			location = 0;
		
		rect(120,400,460,50);
		if(mouseX + 45 > 120 && mouseX - 45 < 120+460 && mouseY + 18 > 400 && mouseY - 18 < 400+50)
			location = 0;
		
		
		spikeNum = 0;
		for(int i = 350; i > 0; i-=50){
			
			if(spikeY[spikeNum] > 480){
				rect(i,spikeY[spikeNum],20,200);
				
				if(mouseX + 45 > i && mouseX - 45 < i+20 && mouseY + 18 > spikeY[spikeNum] && mouseY - 18 < spikeY[spikeNum]+200){
					location = 0;
				}
			} else{
				rect(i,480,20,200);
				
				if(mouseX + 45 > i && mouseX - 45 < i+20 && mouseY + 18 > 480 && mouseY - 18 < 480+200){
					location = 0;
				}
			}
			
			if(spikeY[spikeNum] == 480){
				spikeY[spikeNum] = 660;
			}
			
			spikeNum++;
		}
		
		for(int i = 0; i < 7; i++){
			spikeY[i]-=10;
		}
		
		if(!ballstart && mouseX + 45 > 0 && mouseX - 45 < 530 && mouseY +18 > 0 && mouseY - 18 < 355){
			ballstart = true;
		}
		//ball border x 0, 530 y 0 400
		if(ballstart){
			if(timer >=0){
			
				rect(0,400,120,50);
				if(mouseX + 45 > 0 && mouseX - 45 < 0+120 && mouseY + 18 > 400 && mouseY - 18 < 400+50){
					location = 0;
				}
				
				rect(530,0,50,100);
				if(mouseX + 45 > 530 && mouseX - 45 < 530+50 && mouseY + 18 > 0 && mouseY - 18 < 0+100){
					location = 0;
				}
			}
			text("Time Until Door Open: " + Math.round(timer),380,50);
			if(timer > 0){
				timer-=0.05;
			}
			
			if(timer <= 30){
				ballNum = 1;
			} 
			
			if(timer <=25){
				ballNum = 2;
			}
			if(timer <=20){
				ballNum = 3;
			}
			if(timer <=15){
				ballNum = 4;
			}
			if(timer <=10){
				ballNum = 5;
			}
			
			for(int i = 0; i < ballNum; i++){
				ellipse(ballX[i], ballY[i],30,30);
			}
			
			for(int i = 0; i < ballNum; i++){
				if(ballright[i]){
					ballX[i]+=ballxs[i];
				}
				if(!ballright[i]){
					ballX[i]-=ballxs[i];
				} 
				if(balldown[i]){
					ballY[i]+=ballys[i];
				}
				if(!balldown[i]){
					ballY[i]-=ballys[i];
				}
			}
			
			for(int i = 0; i < ballNum; i++){
				if(ballX[i] - 15 <= 0){
					ballright[i] = true;
				}
				if(ballX[i] + 15 >= 530){
					ballright[i] = false;
				}
				
				if(ballY[i] - 15 <= 0){
					balldown[i] = true;
				}
				if(ballY[i] + 15 >= 400){
					balldown[i] = false;
				}
			}
			for(int i = 0; i < ballNum; i++){
				distance1[i] = Math.floor(sqrt((ballX[i]-mouseX-21)*(ballX[i]-mouseX-21)+(ballY[i]-mouseY)*(ballY[i]-mouseY)));
				distance2[i] = Math.floor(sqrt((ballX[i]-mouseX+21)*(ballX[i]-mouseX+21)+(ballY[i]-mouseY)*(ballY[i]-mouseY)));
			}
			
			for(int i = 0; i < ballNum; i++){
				if(distance1[i] >= 0 && distance1[i] <= 20+13){
					location = 0;
				}
				
				if(distance2[i] >= 0 && distance2[i] <= 20+3){
					location = 0;
				}
			}
			
		}
		//580 1000
		//fill(Math.random()*255, Math.random()*255, Math.random()*255);
		if(shipHP != 0)
		ellipse(shipx,575,60,40);

		if(!last && shipHP != 0 && mouseX > 580+45 && mouseY < 100){
			if(Math.random() >= 0.5){
				shipright = true;
			} else{
				shipright = false;
			}
			st = 0;
			bulletnum = 0;
			last = true;
		}
		if(last){
			rect(0,400,120,50);
			if(mouseX + 45 > 0 && mouseX - 45 < 0+120 && mouseY + 18 > 400 && mouseY - 18 < 400+50){
				location = 0;
			}
			
			rect(530,0,50,100);
			if(mouseX + 45 > 530 && mouseX - 45 < 530+50 && mouseY + 18 > 0 && mouseY - 18 < 0+100){
				location = 0;
			}
			textSize(20);
			text("Ship HP: ", 800,200);
			for(int i = 1; i <= 6; i++){
					if(i<=shipHP)
						fill(0,255,0);
					else
						fill(255,0,0);
					text("||",880+(i*10),200);
			}


			if(shipright)
				shipx+=Math.random()*4+2;
			
			if(!shipright)
				shipx-=Math.random()*4+2;
				
			if(shipx >= 1000-30-10)
				shipright = false;
			if(shipx <= 580+30+10)
				shipright = true;
			st+=1;
			if(st%10== 0 && Math.random() > 0.5){
				bulletxy[0][bulletnum] = shipx-20;
				bulletxy[1][bulletnum] = 575-40;
				bulletup[bulletnum] = true;
				bulletnum++;
			} 
			for(int i = 0; i < bulletnum; i++){
				fill(Math.random()*255, Math.random()*255, Math.random()*255);
				rect(bulletxy[0][i],bulletxy[1][i],10,20);
				if(mouseX + 45 > bulletxy[0][i] && mouseX - 45 < bulletxy[0][i]+10 && mouseY + 18 > bulletxy[1][i] && mouseY-18 < bulletxy[1][i]+20){
					location = 0;
				}

				if(shipx+30 > bulletxy[0][i] && shipx-30 < bulletxy[0][i]+10 && 575+20 > bulletxy[1][i] && 575-20 < bulletxy[1][i]+20){
					image(boom,bulletxy[0][i]+5-30,bulletxy[1][i]+10-20,60,40);
					bulletxy[1][i]=700;
					shipHP--;
				}

			}
			if(shipHP == 0){
				last = false;
			}
			for(int i = 0; i < bulletnum; i++){
				if(bulletup[i]){
					bulletxy[1][i]-=5;
				} else{
					bulletxy[1][i]+=5;
				}
				if(bulletxy[1][i] <= 0){
					bulletup[i] = false;
				}
			}

			
			
		}
		if(!last && shipHP == 0){
			image(blurry,shipx-50,555,100,40);
			if(mouseX + 45 > shipx-50 && mouseX - 45 < shipx-50+100 && mouseY + 18 > 555 && mouseY - 18 < 555+40){
				location = 0;
				mousepaper = true;
			}
		}
	}


	if(mousePressed == false){
		hold = 0;
	}
	if(location == 999){
	
if(game == 1){	
	background(255,255,255);

	image(papershow,-10,-100,1600);
	ellipse(x,y,40,40);
	fill(0,0,0);
	timer = timer + 1;
	if(timer > 20){
	timer = 0;
	}
	image(backbutton,0,500,150,50);
	if(mousePressed == true && mouseX >= 0 && mouseX <= 150 && mouseY >= 500 && mouseY <= 550){
		location = 0;
	}


if(x > 800){
a = 2;
}

if(x < 20){
a = 1;
}

if (a == 1){
x = x + 2;
}

if (a == 2){
x = x - 2;
}

if (b == 1){
y = y - 2;
}
 
if (b == 2){
y = y + 2;
} 

if(y < 30){
b = 2;
}


if (mousePressed == true && mouseButton == LEFT && mouseX > 15 && mouseX < 175 && mouseY > 500 && mouseY < 600){
			location = 0;
		}
		
		
		
fill(0,255,0);
wallvalue = 0;
wait = 0;
sum = 0;
for(int i = 0; i < 16; i++){
	sum += wall[i];
	sum += wall2[i];
	sum += wall3[i];
	sum += wall4[i];
}
if(sum == 0){
	notblurry = true;
}


while(wallvalue < 16){


 if(y == 50 && x >= -10 + wallvalue*50 && x <= 50+ wallvalue*50 && wall[wallvalue] > 0){
		wall[wallvalue] = wall[wallvalue] - 1;
		
	}
	if(y == 90 && x >= -10 + wallvalue*50 && x <= 50+ wallvalue*50 && wall2[wallvalue] > 0){
		b = 2;
		wall2[wallvalue] = wall2[wallvalue] - 1;
	}
	
	if(y == 120 && x >= -10 + wallvalue*50 && x <= 50+ wallvalue*50 && wall3[wallvalue] > 0 ){
		b = 2;
		wall3[wallvalue] = wall3[wallvalue] - 1;
	
	}
	if(y == 150 && x >= -10 + wallvalue*50 && x <= 50+ wallvalue*50 && wall4[wallvalue] > 0 ){
		b = 2;
		wall4[wallvalue] = wall4[wallvalue] - 1;
	
	}
// when moving < - then bounch ->
	if(y > 100 && y < 150 && x < 70 + 50*wallvalue && x > 50 + 50*wallvalue && a == 2 && wall4[wallvalue] > 0
	){
		a = 1;
		wall4[wallvalue] = wall4[wallvalue] - 1;
	}
	
	if(y > 70 && y < 120 && x < 70 + 50*wallvalue && x > 50 + 50*wallvalue && a == 2 && wall3[wallvalue] > 0
	){
		a = 1;
		wall3[wallvalue] = wall3[wallvalue] - 1;
	}
	
	
	if(y > 40 && y < 90 && x < 70 + 50*wallvalue && x > 50 + 50*wallvalue && wall2[wallvalue] > 0){
		a = 1;
		wall2[wallvalue] = wall2[wallvalue] - 1;
	}
	
	if(y > 10 && y <= 60 && x < 70 + 50*wallvalue && x > 50 + 50*wallvalue && a == 2 && wall[wallvalue] > 0){
		a = 1;
		wall[wallvalue] = wall[wallvalue] - 1;
	}


	// when moving  -> then bounch <-
	if(y > 100 && y < 150 && x > 30 + wallvalue*50 && x < 90 + wallvalue*50 && a == 1 && wall4[wallvalue+1] > 0
	){
		a = 2;
		wall4[wallvalue+1] = wall4[wallvalue+1] - 1;
	}
	
	if(y > 70 && y < 120 && x > 30 + wallvalue*50 && x < 90 + wallvalue*50 && a == 1 && wall3[wallvalue+1] > 0
	){
		a = 2;
		wall3[wallvalue+1] = wall3[wallvalue+1] - 1;
	}
	
	if(y > 40 && y < 90 && x > 30 + wallvalue*50 && x < 90 + wallvalue*50 && a == 1 && wall2[wallvalue+1] > 0){
		a = 2;
		wall2[wallvalue+1] = wall2[wallvalue+1] - 1;
	}
	
	if(y > 10 && y <= 60 && x > 30 + wallvalue*50 && x < 90 + wallvalue*50 && a == 1 && wall[wallvalue+1] > 0){
		a = 2;
		wall[wallvalue+1] = wall[wallvalue+1] - 1;
	}
	

	
	fill(Math.round(Math.random())*255);


	if(wall[wallvalue] > 0){ 
		rect(0+50*wallvalue,10,50,30);

	}
fill(Math.round(Math.random())*255);
	if(wall2[wallvalue] > 0){ 
		rect(0+50*wallvalue,40,50,30);
	}
fill(Math.round(Math.random())*255);
	if(wall3[wallvalue] > 0){ 
		rect(0+50*wallvalue,70,50,30);
	}
fill(Math.round(Math.random())*255);
	if(wall4[wallvalue] > 0){ 
		rect(0+50*wallvalue,100,50,30);
	}
	fill(0,255,0)
	
	

	stroke(0,0,0);
	wallvalue = wallvalue + 1;
	counter = counter + 1;
	if(counter > 3){
	counter = 0;
	
	}

	
}
fill(255,255,255);
rect(mouseX-200+barlength/2,300,400-barlength,10);

if(x > mouseX - 200 && x < mouseX + 200 && y > 280 && y < 300 && barlength < 300){
b = 1;
barlength = barlength + 5;
}



if(barlength > 300){
barlength = 300;
}


fill(0,0,0);
text(mouseX,50,60);
text(mouseY,50,40);

}
if(y > 300){

	if(niceword = 1 && game == 1){
		text ("so close", 200,400);
	}
}
	



if(y > 600){
game = 0;
}


if(game == 0 && restart == 0){
fill(0,0,0);
text("game over [click anywhere to restart]",100,300);
	if(mousePressed == true){
	restart = 1;
	}

if(restart == 1){
	wall = new Array (1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
	wall2 = new Array (1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
	wall3 = new Array (1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
	wall4 = new Array (1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
	game = 1;
	x = 0;
	y = 300;
	a = 0;
	b = 1;
	z = 0;
	wallvalue = 0;
	colorvalue = 0;
	wait = 0;
	game = 1;
	red = 0;
	green  = 0;
	blue = 0;
	counter = 0;
	timer = 0;
	niceword = 0;
	restart = 0;

}
}

	}
	
	/*
	text("X " + mouseX,100,100);
	text("Y " + mouseY,150,100);
	text("hold " + hold,100,200);
	text("faucet " + faucet,100,480);
	text("waterlvl " + waterlvl,100,490);
	text("water1 " + water1,100,500);
	text("water " + water,100,520);
	*/
	
	
}

</script>
<canvas id="mycanvas"></canvas>
</head>

<body>

</body>
</html>